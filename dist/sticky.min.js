(function(){"use strict";var e=angular.module("sticky",[]);e.directive("sticky",function(){function e(e,t,n){function b(){l.offsetWidth=o.offsetWidth,E();if(p){var e=window.getComputedStyle(o.parentElement,null),n=o.parentElement.offsetWidth-e.getPropertyValue("padding-right").replace("px","")-e.getPropertyValue("padding-left").replace("px","");t.css("width",n+"px")}}function w(){u.off("scroll",E),u.off("resize",b),s&&a.removeClass(s)}function E(){var e,t,n,i;if(r&&!y("("+r+")").matches&&!y(r).matches)return;m==="top"?(i=window.pageYOffset||f.scrollTop,e=i-(f.clientTop||0),t=e>=d):(n=window.pageYOffset+window.innerHeight,t=n<=d),t&&!p?S():!t&&p&&x()}function S(){var e,n;e=t[0].getBoundingClientRect(),n=e.left,l.offsetWidth=o.offsetWidth,p=!0,s&&a.addClass(s),i&&t.addClass(i),t.css("width",o.offsetWidth+"px").css("position","fixed").css(m,v+"px").css("left",n).css("margin-top",0),m==="bottom"&&t.css("margin-bottom",0)}function x(){t.attr("style",t.initialStyle),p=!1,s&&a.removeClass(s),i&&t.removeClass(i),t.css("width","").css("top",l.top).css("position",l.position).css("left",l.cssLeft).css("margin-top",l.marginTop)}function T(e){var t=0;if(e.offsetParent)do t+=e.offsetTop,e=e.offsetParent;while(e);return t}function N(e){return e.offsetTop+e.clientHeight}var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;h=!1,p=!1,y=window.matchMedia,u=angular.element(window),a=angular.element(document.body),o=t[0],f=document.documentElement,r=n.mediaQuery||!1,i=n.stickyClass||"",s=n.bodyClass||"",c=t.attr("style"),v=typeof n.offset=="string"?parseInt(n.offset.replace(/px;?/,"")):0,m=typeof n.anchor=="string"?n.anchor.toLowerCase().trim():"top",l={top:t.css("top"),width:t.css("width"),position:t.css("position"),marginTop:t.css("margin-top"),cssLeft:t.css("left")};switch(m){case"top":case"bottom":break;default:console.log("Unknown anchor "+m+", defaulting to top"),m="top"}u.on("scroll",E),u.on("resize",e.$apply.bind(e,b)),e.$on("$destroy",w),g=T(o),e.$watch(function(){return p?g:(g=m==="top"?T(o):N(o),g)},function(e,t){if(e!==t&&e!==0||typeof d=="undefined")d=e-v,E()})}return{restrict:"A",link:e}}),window.matchMedia=window.matchMedia||function(){var e="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(e),function(){return{matches:!0}}}()})();